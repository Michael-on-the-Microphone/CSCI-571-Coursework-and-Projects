{"ast":null,"code":"import React from'react';import{Container,Row,Col,Card}from'react-bootstrap';import{useAuth}from'../context/AuthContext';import{useNavigate}from'react-router-dom';import RelativeTime from'./RelativeTime';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Favorites=()=>{const{user,removeFromFavorites}=useAuth();const navigate=useNavigate();if(!user){navigate('/login');return null;}// Sort favorites by addedAt in descending order (newest first)\nconst sortedFavorites=[...(user.favorites||[])].sort((a,b)=>{return new Date(b.addedAt)-new Date(a.addedAt);});console.log('Favorites data:',sortedFavorites);const handleArtistClick=artistId=>{navigate(`/artist/${artistId}`);};const handleRemoveFavorite=async(e,artistId)=>{e.stopPropagation();// Prevent triggering the card click\nawait removeFromFavorites(artistId);};return/*#__PURE__*/_jsxs(Container,{className:\"my-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-4\",children:\"My Favorite Artists\"}),sortedFavorites.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-5\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"You haven't added any artists to your favorites yet.\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary mt-3\",onClick:()=>navigate('/'),children:\"Search for Artists\"})]}):/*#__PURE__*/_jsx(Row,{children:sortedFavorites.map(artist=>/*#__PURE__*/_jsx(Col,{xs:12,sm:6,md:4,lg:3,className:\"mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"rounded position-relative overflow-hidden shadow-sm\",style:{height:'250px',cursor:'pointer',transition:'transform 0.3s ease, box-shadow 0.3s ease'},onClick:()=>handleArtistClick(artist.artistId),onMouseOver:e=>{e.currentTarget.style.transform='translateY(-5px)';e.currentTarget.style.boxShadow='0 8px 16px rgba(0, 0, 0, 0.2)';},onMouseOut:e=>{e.currentTarget.style.transform='none';e.currentTarget.style.boxShadow='0 4px 8px rgba(0, 0, 0, 0.1)';},children:[/*#__PURE__*/_jsx(\"div\",{className:\"position-absolute w-100 h-100\",style:{backgroundImage:`url(${artist.thumbnail&&!artist.thumbnail.includes('/assets/shared/missing_image.png')?artist.thumbnail:'/artsy_logo.svg'})`,backgroundSize:'cover',backgroundPosition:'center',filter:'blur(8px) brightness(0.5) saturate(0.8)',top:0,left:0,zIndex:0}}),/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative h-100 d-flex flex-column justify-content-between p-3 text-white\",style:{zIndex:1},children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-between align-items-start\",children:/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold fs-4\",children:artist.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"fs-5 fw-medium\",children:[artist.birthday||'?',\" - \",artist.deathday||'']}),/*#__PURE__*/_jsx(\"div\",{className:\"fs-6 opacity-75\",children:artist.nationality||'Unknown'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-end\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"small opacity-75\",children:[\"Added \",/*#__PURE__*/_jsx(RelativeTime,{date:artist.addedAt})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-link text-white p-0 text-decoration-none\",style:{opacity:0.8},onMouseOver:e=>e.currentTarget.style.opacity=1,onMouseOut:e=>e.currentTarget.style.opacity=0.8,onClick:e=>handleRemoveFavorite(e,artist.artistId),children:\"Remove\"})]})]})]})},artist.artistId))})]});};export default Favorites;","map":{"version":3,"names":["React","Container","Row","Col","Card","useAuth","useNavigate","RelativeTime","jsx","_jsx","jsxs","_jsxs","Favorites","user","removeFromFavorites","navigate","sortedFavorites","favorites","sort","a","b","Date","addedAt","console","log","handleArtistClick","artistId","handleRemoveFavorite","e","stopPropagation","className","children","length","onClick","map","artist","xs","sm","md","lg","style","height","cursor","transition","onMouseOver","currentTarget","transform","boxShadow","onMouseOut","backgroundImage","thumbnail","includes","backgroundSize","backgroundPosition","filter","top","left","zIndex","name","birthday","deathday","nationality","date","opacity"],"sources":["/Users/praveen/Desktop/USC/CSCI 571 WebTech/learnreact/backup/client/src/components/Favorites.js"],"sourcesContent":["import React from 'react';\nimport { Container, Row, Col, Card } from 'react-bootstrap';\nimport { useAuth } from '../context/AuthContext';\nimport { useNavigate } from 'react-router-dom';\nimport RelativeTime from './RelativeTime';\n\nconst Favorites = () => {\n  const { user, removeFromFavorites } = useAuth();\n  const navigate = useNavigate();\n\n  if (!user) {\n    navigate('/login');\n    return null;\n  }\n\n  // Sort favorites by addedAt in descending order (newest first)\n  const sortedFavorites = [...(user.favorites || [])].sort((a, b) => {\n    return new Date(b.addedAt) - new Date(a.addedAt);\n  });\n\n  console.log('Favorites data:', sortedFavorites);\n\n  const handleArtistClick = (artistId) => {\n    navigate(`/artist/${artistId}`);\n  };\n\n  const handleRemoveFavorite = async (e, artistId) => {\n    e.stopPropagation(); // Prevent triggering the card click\n    await removeFromFavorites(artistId);\n  };\n\n  return (\n    <Container className=\"my-4\">\n      <h2 className=\"mb-4\">My Favorite Artists</h2>\n\n      {sortedFavorites.length === 0 ? (\n        <div className=\"text-center py-5\">\n          <p>You haven't added any artists to your favorites yet.</p>\n          <button className=\"btn btn-primary mt-3\" onClick={() => navigate('/')}>\n            Search for Artists\n          </button>\n        </div>\n      ) : (\n        <Row>\n          {sortedFavorites.map((artist) => (\n            <Col key={artist.artistId} xs={12} sm={6} md={4} lg={3} className=\"mb-4\">\n              <div\n                className=\"rounded position-relative overflow-hidden shadow-sm\"\n                style={{ height: '250px', cursor: 'pointer', transition: 'transform 0.3s ease, box-shadow 0.3s ease' }}\n                onClick={() => handleArtistClick(artist.artistId)}\n                onMouseOver={(e) => {\n                  e.currentTarget.style.transform = 'translateY(-5px)';\n                  e.currentTarget.style.boxShadow = '0 8px 16px rgba(0, 0, 0, 0.2)';\n                }}\n                onMouseOut={(e) => {\n                  e.currentTarget.style.transform = 'none';\n                  e.currentTarget.style.boxShadow = '0 4px 8px rgba(0, 0, 0, 0.1)';\n                }}\n              >\n                <div\n                  className=\"position-absolute w-100 h-100\"\n                  style={{\n                    backgroundImage: `url(${artist.thumbnail && !artist.thumbnail.includes('/assets/shared/missing_image.png')\n                      ? artist.thumbnail\n                      : '/artsy_logo.svg'})`,\n                    backgroundSize: 'cover',\n                    backgroundPosition: 'center',\n                    filter: 'blur(8px) brightness(0.5) saturate(0.8)',\n                    top: 0,\n                    left: 0,\n                    zIndex: 0\n                  }}\n                ></div>\n                <div className=\"position-relative h-100 d-flex flex-column justify-content-between p-3 text-white\" style={{ zIndex: 1 }}>\n                  {/* Top section */}\n                  <div className=\"d-flex justify-content-between align-items-start\">\n                    <div className=\"fw-bold fs-4\">{artist.name}</div>\n                  </div>\n\n                  {/* Middle section */}\n                  <div className=\"mt-2\">\n                    <div className=\"fs-5 fw-medium\">{artist.birthday || '?'} - {artist.deathday || ''}</div>\n                    <div className=\"fs-6 opacity-75\">{artist.nationality || 'Unknown'}</div>\n                  </div>\n\n                  {/* Bottom section */}\n                  <div className=\"d-flex justify-content-between align-items-end\">\n                    <div className=\"small opacity-75\">\n                      Added <RelativeTime date={artist.addedAt} />\n                    </div>\n                    <button\n                      className=\"btn btn-link text-white p-0 text-decoration-none\"\n                      style={{ opacity: 0.8 }}\n                      onMouseOver={(e) => e.currentTarget.style.opacity = 1}\n                      onMouseOut={(e) => e.currentTarget.style.opacity = 0.8}\n                      onClick={(e) => handleRemoveFavorite(e, artist.artistId)}\n                    >\n                      Remove\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </Col>\n          ))}\n        </Row>\n      )}\n    </Container>\n  );\n};\n\nexport default Favorites;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}