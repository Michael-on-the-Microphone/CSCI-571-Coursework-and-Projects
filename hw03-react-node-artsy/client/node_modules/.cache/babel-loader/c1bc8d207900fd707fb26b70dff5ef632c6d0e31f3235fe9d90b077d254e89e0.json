{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Form,Button,Container,Row,Col,Card,Modal,Tabs,Tab,Spinner}from'react-bootstrap';import{searchArtists,fetchArtistData,fetchArtworkData,fetchCategories,getSimilarArtistData}from'../services/api';import{useAuth}from'../context/AuthContext';import{useParams,useNavigate}from'react-router-dom';import'./ArtworkCard.css';import'./Modal.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SearchBar=()=>{const{user,addToFavorites,removeFromFavorites,isInFavorites}=useAuth();const{artistId}=useParams();const navigate=useNavigate();const[query,setQuery]=useState('');const[searchedQuery,setSearchedQuery]=useState('');const[artists,setArtists]=useState([]);const[selectedArtist,setSelectedArtist]=useState(null);const[artworks,setArtworks]=useState([]);const[categories,setCategories]=useState([]);const[loadingCategories,setLoadingCategories]=useState(false);const[selectedArtwork,setSelectedArtwork]=useState(null);const[showModal,setShowModal]=useState(false);const[similarArtists,setSimilarArtists]=useState([]);const[loadingSimilar,setLoadingSimilar]=useState(false);const[loading,setLoading]=useState(false);const[searchLoading,setSearchLoading]=useState(false);// Load artist details from URL parameter\nuseEffect(()=>{if(artistId){const loadArtistFromUrl=async()=>{try{setLoading(true);// Fetch artist data using the ID from URL\nconst artistInfo=await fetchArtistData(artistId);const artworkData=await fetchArtworkData(artistId);// Set the artist data\nsetSelectedArtist({...artistInfo,id:artistId});setArtworks(artworkData.artworks||[]);// Fetch similar artists for all users\nsetLoadingSimilar(true);try{const similarData=await getSimilarArtistData(artistId);setSimilarArtists(similarData.similarArtists||[]);}catch(error){console.error(\"Similar artists fetch failed:\",error);setSimilarArtists([]);}finally{setLoadingSimilar(false);}}catch(err){console.error(\"Failed to load artist from URL:\",err);// If artist not found, redirect to home\nnavigate('/');}finally{setLoading(false);}};loadArtistFromUrl();}},[artistId,user,navigate]);const handleSearch=async()=>{if(!query.trim())return;console.log(\"Searching for:\",query);setSearchLoading(true);try{// Use the API service to search for artists\nconst data=await searchArtists(query);console.log(\"Search response:\",data);setArtists(data.artists||[]);setSelectedArtist(null);// Store the query that was actually searched\nsetSearchedQuery(query);}catch(err){console.error(\"Search failed:\",err);alert(`Search failed: ${err.message}. Check console for details.`);setArtists([]);}finally{setSearchLoading(false);}};const handleArtistClick=async artist=>{try{setLoading(true);// Fetch artist data\nconst artistInfo=await fetchArtistData(artist.id);const artworkData=await fetchArtworkData(artist.id);// Update URL without triggering a full page reload\nwindow.history.pushState({},'',`/artist/${artist.id}`);// Set the artist data\nsetSelectedArtist({...artistInfo,name:artist.name,image:artist.image,id:artist.id});setArtworks(artworkData.artworks||[]);// Fetch similar artists\nsetLoadingSimilar(true);try{const similarData=await getSimilarArtistData(artist.id);setSimilarArtists(similarData.similarArtists||[]);}catch(error){console.error(\"Similar artists fetch failed:\",error);setSimilarArtists([]);}finally{setLoadingSimilar(false);}}catch(err){console.error(\"Artist data fetch failed:\",err);alert(`Failed to fetch artist data: ${err.message}`);}finally{setLoading(false);}};const handleClear=()=>{setQuery('');setSearchedQuery('');setArtists([]);setSelectedArtist(null);setArtworks([]);setCategories([]);setSimilarArtists([]);};// Handle adding artist to favorites\nconst handleAddToFavorites=async(e,artist)=>{e.preventDefault();// Prevent default behavior\ne.stopPropagation();// Prevent card click event\nconsole.log('Adding artist to favorites:',artist);await addToFavorites(artist);};// Handle removing artist from favorites\nconst handleRemoveFromFavorites=async(e,artistId)=>{e.preventDefault();// Prevent default behavior\ne.stopPropagation();// Prevent card click event\nawait removeFromFavorites(artistId);};const openCategories=async artwork=>{try{// Set the selected artwork for the modal\nsetSelectedArtwork(artwork);// Show the modal first\nsetShowModal(true);// Start loading categories\nsetLoadingCategories(true);setCategories([]);// Use the API service to fetch categories\nconst data=await fetchCategories(artwork.id);setCategories(data.categories||[]);}catch(err){console.error(\"Categories fetch failed:\",err);setCategories([]);}finally{setLoadingCategories(false);}};// Handle form submission (Enter key press)\nconst handleSubmit=e=>{e.preventDefault();// Prevent page refresh\nhandleSearch();};return/*#__PURE__*/_jsxs(Container,{className:\"my-4\",children:[/*#__PURE__*/_jsx(Form,{className:\"mb-4\",onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Please enter an artist name.\",value:query,onChange:e=>setQuery(e.target.value),className:\"flex-grow-1\",style:{borderTopRightRadius:0,borderBottomRightRadius:0,minHeight:'44px'},disabled:searchLoading}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsxs(Button,{variant:\"primary\",type:\"submit\",className:\"d-flex align-items-center justify-content-center\",style:{borderRadius:0,minHeight:'44px',minWidth:'80px',backgroundColor:query.trim()?'#024d93':'#688cbc',borderColor:query.trim()?'#024d93':'#688cbc'},disabled:!query.trim()||searchLoading,children:[/*#__PURE__*/_jsx(\"span\",{children:\"Search\"}),searchLoading&&/*#__PURE__*/_jsx(Spinner,{as:\"span\",animation:\"border\",size:\"sm\",role:\"status\",\"aria-hidden\":\"true\",className:\"ms-2\"})]}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleClear,style:{borderTopLeftRadius:0,borderBottomLeftRadius:0,minHeight:'44px',minWidth:'70px'},disabled:searchLoading,children:/*#__PURE__*/_jsx(\"span\",{children:\"Clear\"})})]})]})}),artists.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-5\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"mb-3\",children:[\"Search Results for \\\"\",searchedQuery,\"\\\"\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",style:{overflowX:'auto',WebkitOverflowScrolling:'touch',scrollbarWidth:'none',msOverflowStyle:'none',paddingBottom:'10px'},children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex pb-2\",style:{minWidth:'min-content'},children:artists.map(artist=>/*#__PURE__*/_jsx(\"div\",{className:\"me-3\",style:{display:'inline-block',width:'160px',flexShrink:0},children:/*#__PURE__*/_jsxs(Card,{className:\"shadow-sm position-relative artist-hover-card\",style:{width:'160px'},onClick:()=>handleArtistClick(artist),children:[user&&/*#__PURE__*/_jsx(\"div\",{className:\"position-absolute top-0 end-0 m-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center align-items-center rounded-circle bg-primary\",style:{width:'30px',height:'30px',cursor:'pointer'},onClick:e=>{e.stopPropagation();isInFavorites(artist.id)?handleRemoveFromFavorites(e,artist.id):handleAddToFavorites(e,artist);},children:/*#__PURE__*/_jsx(\"i\",{className:`bi ${isInFavorites(artist.id)?'bi-star-fill text-warning':'bi-star text-white'}`})})}),/*#__PURE__*/_jsx(Card.Img,{variant:\"top\",src:artist.image&&!artist.image.includes('/assets/shared/missing_image.png')?artist.image:'/artsy_logo.svg',alt:artist.name,style:{height:'160px',objectFit:artist.image&&!artist.image.includes('/assets/shared/missing_image.png')?'cover':'contain',padding:artist.image&&!artist.image.includes('/assets/shared/missing_image.png')?'0':'30px',backgroundColor:artist.image&&!artist.image.includes('/assets/shared/missing_image.png')?'transparent':'#f8f9fa'}}),/*#__PURE__*/_jsx(Card.Body,{className:\"p-2 text-white text-center artist-card-body\",style:{backgroundColor:'#205375'},children:/*#__PURE__*/_jsx(Card.Title,{className:\"mb-0\",style:{fontSize:'1rem',whiteSpace:'normal',overflow:'hidden',textOverflow:'ellipsis',display:'-webkit-box',WebkitLineClamp:2,WebkitBoxOrient:'vertical',lineHeight:'1.2'},children:artist.name})})]})},artist.id))})})]}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-5\",children:/*#__PURE__*/_jsx(Spinner,{animation:\"border\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})})}):selectedArtist&&/*#__PURE__*/_jsx(\"div\",{className:\"w-100\",children:/*#__PURE__*/_jsxs(Tabs,{defaultActiveKey:\"info\",className:\"mb-3 w-100 custom-tabs\",style:{display:'flex',border:'none',outline:'none',boxShadow:'none'},fill:true,children:[/*#__PURE__*/_jsx(Tab,{eventKey:\"info\",title:/*#__PURE__*/_jsx(\"div\",{className:\"w-100 py-2\",children:\"Artist Info\"}),children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-center mt-3\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-0 me-3\",children:selectedArtist.name}),user&&/*#__PURE__*/_jsx(\"i\",{className:`bi ${isInFavorites(selectedArtist.id)?'bi-star-fill text-warning':'bi-star'}`,style:{fontSize:'1.5rem',cursor:'pointer'},onClick:e=>{e.preventDefault();isInFavorites(selectedArtist.id)?handleRemoveFromFavorites(e,selectedArtist.id):handleAddToFavorites(e,selectedArtist);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-muted mb-3\",dangerouslySetInnerHTML:{__html:`${selectedArtist.nationality||''}, ${selectedArtist.birthday||''} ${selectedArtist.deathday?'– '+selectedArtist.deathday:''}`}}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 text-justify\",children:selectedArtist.biography?(()=>{// Process the biography text\nconst bioText=selectedArtist.biography;// Split by common paragraph separators and filter out empty paragraphs\nconst paragraphs=bioText.split(/\\n\\n|\\r\\n\\r\\n|\\n\\r\\n\\r|\\r\\r/).filter(para=>para.trim()!=='');// If no paragraphs were found after splitting, treat the entire biography as one paragraph\nif(paragraphs.length===0){return/*#__PURE__*/_jsx(\"div\",{style:{lineHeight:'1.6',marginBottom:'1rem',textAlign:'justify'},dangerouslySetInnerHTML:{__html:bioText}});}// Otherwise, render each paragraph\nreturn paragraphs.map((paragraph,index)=>/*#__PURE__*/_jsx(\"div\",{style:{lineHeight:'1.6',marginBottom:'1rem',textAlign:'justify'},dangerouslySetInnerHTML:{__html:paragraph}},index));})():/*#__PURE__*/_jsx(\"p\",{style:{lineHeight:'1.6',marginBottom:'1rem',textAlign:'justify'},children:\"No biography available.\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-5\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-start mb-4\",children:\"Similar Artists\"}),loadingSimilar?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-3\",children:/*#__PURE__*/_jsx(Spinner,{animation:\"border\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})})}):similarArtists.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",style:{overflowX:'auto',WebkitOverflowScrolling:'touch',scrollbarWidth:'none',msOverflowStyle:'none',paddingBottom:'10px'},children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex pb-2\",style:{minWidth:'min-content'},children:similarArtists.map(artist=>/*#__PURE__*/_jsx(\"div\",{className:\"me-3\",style:{display:'inline-block',width:'160px',flexShrink:0},children:/*#__PURE__*/_jsxs(Card,{className:\"shadow-sm position-relative artist-hover-card\",style:{width:'160px'},onClick:()=>handleArtistClick(artist),children:[user&&/*#__PURE__*/_jsx(\"div\",{className:\"position-absolute top-0 end-0 m-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center align-items-center rounded-circle bg-primary\",style:{width:'30px',height:'30px',cursor:'pointer'},onClick:e=>{e.preventDefault();e.stopPropagation();isInFavorites(artist.id)?handleRemoveFromFavorites(e,artist.id):handleAddToFavorites(e,artist);},children:/*#__PURE__*/_jsx(\"i\",{className:`bi ${isInFavorites(artist.id)?'bi-star-fill text-warning':'bi-star text-white'}`})})}),/*#__PURE__*/_jsx(Card.Img,{variant:\"top\",src:artist.image&&!artist.image.includes('/assets/shared/missing_image.png')?artist.image:'/artsy_logo.svg',alt:artist.name,style:{height:'160px',objectFit:artist.image&&!artist.image.includes('/assets/shared/missing_image.png')?'cover':'contain',padding:artist.image&&!artist.image.includes('/assets/shared/missing_image.png')?'0':'30px',backgroundColor:artist.image&&!artist.image.includes('/assets/shared/missing_image.png')?'transparent':'#f8f9fa'}}),/*#__PURE__*/_jsx(Card.Body,{className:\"p-2 text-white text-center artist-card-body\",style:{backgroundColor:'#205375'},children:/*#__PURE__*/_jsx(Card.Title,{className:\"mb-0\",style:{fontSize:'1rem',whiteSpace:'normal',overflow:'hidden',textOverflow:'ellipsis',display:'-webkit-box',WebkitLineClamp:2,WebkitBoxOrient:'vertical',lineHeight:'1.2'},children:artist.name})})]})},artist.id))})}):/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-3\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No similar artists found.\"})})]})]})}),/*#__PURE__*/_jsx(Tab,{eventKey:\"artworks\",title:/*#__PURE__*/_jsx(\"div\",{className:\"w-100 py-2\",children:\"Artworks\"}),children:artworks.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger bg-danger-subtle text-danger mt-3\",children:\"No artworks.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:artworks.map(art=>/*#__PURE__*/_jsx(\"div\",{className:\"artwork-card col-12 col-sm-6 col-md-4 col-lg-3 mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card h-100 shadow-sm rounded overflow-hidden border-0 d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"artwork-image-container\",style:{height:'300px',overflow:'hidden'},children:/*#__PURE__*/_jsx(\"img\",{src:art.image&&!art.image.includes('/assets/shared/missing_image.png')?art.image:'/artsy_logo.svg',alt:art.title,className:\"w-100 h-100\",style:{objectFit:art.image&&!art.image.includes('/assets/shared/missing_image.png')?'cover':'contain',padding:art.image&&!art.image.includes('/assets/shared/missing_image.png')?'0':'30px',backgroundColor:art.image&&!art.image.includes('/assets/shared/missing_image.png')?'transparent':'#f8f9fa'}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column\",style:{flex:'1 0 auto'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 text-center\",style:{flex:'1 0 auto'},children:/*#__PURE__*/_jsxs(\"h6\",{className:\"mb-0\",children:[art.title,art.date?`, ${art.date}`:'']})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary w-100 rounded-0 rounded-bottom\",style:{backgroundColor:'#024d93',borderColor:'#024d93',borderTopLeftRadius:'0',borderTopRightRadius:'0'},onClick:()=>openCategories(art),children:\"View categories\"})]})]})},art.id))})})]})}),/*#__PURE__*/_jsxs(Modal,{show:showModal,onHide:()=>setShowModal(false),size:\"lg\",contentClassName:\"p-0\",fullscreen:\"sm-down\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"modal-close-btn\",onClick:()=>setShowModal(false),\"aria-label\":\"Close\",children:\"\\xD7\"}),/*#__PURE__*/_jsxs(Modal.Body,{className:\"pt-4\",children:[selectedArtwork&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-start\",children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'50px',marginRight:'15px',flexShrink:0},children:/*#__PURE__*/_jsx(\"img\",{src:selectedArtwork.image&&!selectedArtwork.image.includes('/assets/shared/missing_image.png')?selectedArtwork.image:'/artsy_logo.svg',alt:selectedArtwork.title,className:\"img-fluid rounded\",style:{width:'100%',height:'auto',objectFit:selectedArtwork.image&&!selectedArtwork.image.includes('/assets/shared/missing_image.png')?'cover':'contain',padding:selectedArtwork.image&&!selectedArtwork.image.includes('/assets/shared/missing_image.png')?'0':'15px',backgroundColor:selectedArtwork.image&&!selectedArtwork.image.includes('/assets/shared/missing_image.png')?'transparent':'#f8f9fa'}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-1\",children:selectedArtwork.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-0\",children:selectedArtwork.date})]})]})}),/*#__PURE__*/_jsx(\"hr\",{className:\"my-3\"}),loadingCategories?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-5\",children:/*#__PURE__*/_jsx(Spinner,{animation:\"border\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})})}):categories.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger bg-danger-subtle text-danger\",children:\"No categories.\"}):/*#__PURE__*/_jsx(Row,{children:categories.map((cat,idx)=>/*#__PURE__*/_jsx(Col,{xs:12,sm:6,md:4,className:\"mb-3\",children:/*#__PURE__*/_jsxs(Card,{className:\"h-100 shadow-sm\",children:[/*#__PURE__*/_jsx(Card.Img,{variant:\"top\",src:cat.image,style:{height:'180px',objectFit:'cover'}}),/*#__PURE__*/_jsx(Card.Body,{className:\"p-2\",children:/*#__PURE__*/_jsx(Card.Text,{className:\"text-center mb-0\",children:cat.name})})]})},idx))})]})]})]});};export default SearchBar;","map":{"version":3,"names":["React","useState","useEffect","Form","Button","Container","Row","Col","Card","Modal","Tabs","Tab","Spinner","searchArtists","fetchArtistData","fetchArtworkData","fetchCategories","getSimilarArtistData","useAuth","useParams","useNavigate","jsx","_jsx","jsxs","_jsxs","SearchBar","user","addToFavorites","removeFromFavorites","isInFavorites","artistId","navigate","query","setQuery","searchedQuery","setSearchedQuery","artists","setArtists","selectedArtist","setSelectedArtist","artworks","setArtworks","categories","setCategories","loadingCategories","setLoadingCategories","selectedArtwork","setSelectedArtwork","showModal","setShowModal","similarArtists","setSimilarArtists","loadingSimilar","setLoadingSimilar","loading","setLoading","searchLoading","setSearchLoading","loadArtistFromUrl","artistInfo","artworkData","id","similarData","error","console","err","handleSearch","trim","log","data","alert","message","handleArtistClick","artist","window","history","pushState","name","image","handleClear","handleAddToFavorites","e","preventDefault","stopPropagation","handleRemoveFromFavorites","openCategories","artwork","handleSubmit","className","children","onSubmit","Control","type","placeholder","value","onChange","target","style","borderTopRightRadius","borderBottomRightRadius","minHeight","disabled","variant","borderRadius","minWidth","backgroundColor","borderColor","as","animation","size","role","onClick","borderTopLeftRadius","borderBottomLeftRadius","length","overflowX","WebkitOverflowScrolling","scrollbarWidth","msOverflowStyle","paddingBottom","map","display","width","flexShrink","height","cursor","Img","src","includes","alt","objectFit","padding","Body","Title","fontSize","whiteSpace","overflow","textOverflow","WebkitLineClamp","WebkitBoxOrient","lineHeight","defaultActiveKey","border","outline","boxShadow","fill","eventKey","title","dangerouslySetInnerHTML","__html","nationality","birthday","deathday","biography","bioText","paragraphs","split","filter","para","marginBottom","textAlign","paragraph","index","art","flex","date","show","onHide","contentClassName","fullscreen","marginRight","cat","idx","xs","sm","md","Text"],"sources":["/Users/praveen/Desktop/USC/CSCI 571 WebTech/learnreact/backup/client/src/components/SearchBar.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Form, Button, Container, Row, Col, Card, Modal, Tabs, Tab, Spinner } from 'react-bootstrap';\nimport { searchArtists, fetchArtistData, fetchArtworkData, fetchCategories, getSimilarArtistData } from '../services/api';\nimport { useAuth } from '../context/AuthContext';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport './ArtworkCard.css';\nimport './Modal.css';\n\nconst SearchBar = () => {\n  const { user, addToFavorites, removeFromFavorites, isInFavorites } = useAuth();\n  const { artistId } = useParams();\n  const navigate = useNavigate();\n\n  const [query, setQuery] = useState('');\n  const [searchedQuery, setSearchedQuery] = useState('');\n  const [artists, setArtists] = useState([]);\n  const [selectedArtist, setSelectedArtist] = useState(null);\n  const [artworks, setArtworks] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [loadingCategories, setLoadingCategories] = useState(false);\n  const [selectedArtwork, setSelectedArtwork] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [similarArtists, setSimilarArtists] = useState([]);\n  const [loadingSimilar, setLoadingSimilar] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [searchLoading, setSearchLoading] = useState(false);\n\n  // Load artist details from URL parameter\n  useEffect(() => {\n    if (artistId) {\n      const loadArtistFromUrl = async () => {\n        try {\n          setLoading(true);\n          // Fetch artist data using the ID from URL\n          const artistInfo = await fetchArtistData(artistId);\n          const artworkData = await fetchArtworkData(artistId);\n\n          // Set the artist data\n          setSelectedArtist({\n            ...artistInfo,\n            id: artistId\n          });\n          setArtworks(artworkData.artworks || []);\n\n          // Fetch similar artists for all users\n          setLoadingSimilar(true);\n          try {\n            const similarData = await getSimilarArtistData(artistId);\n            setSimilarArtists(similarData.similarArtists || []);\n          } catch (error) {\n            console.error(\"Similar artists fetch failed:\", error);\n            setSimilarArtists([]);\n          } finally {\n            setLoadingSimilar(false);\n          }\n        } catch (err) {\n          console.error(\"Failed to load artist from URL:\", err);\n          // If artist not found, redirect to home\n          navigate('/');\n        } finally {\n          setLoading(false);\n        }\n      };\n\n      loadArtistFromUrl();\n    }\n  }, [artistId, user, navigate]);\n\n  const handleSearch = async () => {\n    if (!query.trim()) return;\n\n    console.log(\"Searching for:\", query);\n    setSearchLoading(true);\n    try {\n      // Use the API service to search for artists\n      const data = await searchArtists(query);\n      console.log(\"Search response:\", data);\n      setArtists(data.artists || []);\n      setSelectedArtist(null);\n      // Store the query that was actually searched\n      setSearchedQuery(query);\n    } catch (err) {\n      console.error(\"Search failed:\", err);\n      alert(`Search failed: ${err.message}. Check console for details.`);\n      setArtists([]);\n    } finally {\n      setSearchLoading(false);\n    }\n  };\n\n  const handleArtistClick = async (artist) => {\n    try {\n      setLoading(true);\n      // Fetch artist data\n      const artistInfo = await fetchArtistData(artist.id);\n      const artworkData = await fetchArtworkData(artist.id);\n\n      // Update URL without triggering a full page reload\n      window.history.pushState({}, '', `/artist/${artist.id}`);\n\n      // Set the artist data\n      setSelectedArtist({\n        ...artistInfo,\n        name: artist.name,\n        image: artist.image,\n        id: artist.id\n      });\n      setArtworks(artworkData.artworks || []);\n\n      // Fetch similar artists\n      setLoadingSimilar(true);\n      try {\n        const similarData = await getSimilarArtistData(artist.id);\n        setSimilarArtists(similarData.similarArtists || []);\n      } catch (error) {\n        console.error(\"Similar artists fetch failed:\", error);\n        setSimilarArtists([]);\n      } finally {\n        setLoadingSimilar(false);\n      }\n    } catch (err) {\n      console.error(\"Artist data fetch failed:\", err);\n      alert(`Failed to fetch artist data: ${err.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleClear = () => {\n    setQuery('');\n    setSearchedQuery('');\n    setArtists([]);\n    setSelectedArtist(null);\n    setArtworks([]);\n    setCategories([]);\n    setSimilarArtists([]);\n  };\n\n  // Handle adding artist to favorites\n  const handleAddToFavorites = async (e, artist) => {\n    e.preventDefault(); // Prevent default behavior\n    e.stopPropagation(); // Prevent card click event\n    console.log('Adding artist to favorites:', artist);\n    await addToFavorites(artist);\n  };\n\n  // Handle removing artist from favorites\n  const handleRemoveFromFavorites = async (e, artistId) => {\n    e.preventDefault(); // Prevent default behavior\n    e.stopPropagation(); // Prevent card click event\n    await removeFromFavorites(artistId);\n  };\n\n  const openCategories = async (artwork) => {\n    try {\n      // Set the selected artwork for the modal\n      setSelectedArtwork(artwork);\n      // Show the modal first\n      setShowModal(true);\n      // Start loading categories\n      setLoadingCategories(true);\n      setCategories([]);\n\n      // Use the API service to fetch categories\n      const data = await fetchCategories(artwork.id);\n      setCategories(data.categories || []);\n    } catch (err) {\n      console.error(\"Categories fetch failed:\", err);\n      setCategories([]);\n    } finally {\n      setLoadingCategories(false);\n    }\n  };\n\n  // Handle form submission (Enter key press)\n  const handleSubmit = (e) => {\n    e.preventDefault(); // Prevent page refresh\n    handleSearch();\n  };\n\n  return (\n    <Container className=\"my-4\">\n      <Form className=\"mb-4\" onSubmit={handleSubmit}>\n        <div className=\"d-flex\">\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Please enter an artist name.\"\n            value={query}\n            onChange={(e) => setQuery(e.target.value)}\n            className=\"flex-grow-1\"\n            style={{\n              borderTopRightRadius: 0,\n              borderBottomRightRadius: 0,\n              minHeight: '44px'\n            }}\n            disabled={searchLoading}\n          />\n          <div className=\"d-flex\">\n            <Button\n              variant=\"primary\"\n              type=\"submit\"\n              className=\"d-flex align-items-center justify-content-center\"\n              style={{\n                borderRadius: 0,\n                minHeight: '44px',\n                minWidth: '80px',\n                backgroundColor: query.trim() ? '#024d93' : '#688cbc',\n                borderColor: query.trim() ? '#024d93' : '#688cbc'\n              }}\n              disabled={!query.trim() || searchLoading}\n            >\n              <span>Search</span>\n              {searchLoading && (\n                <Spinner\n                  as=\"span\"\n                  animation=\"border\"\n                  size=\"sm\"\n                  role=\"status\"\n                  aria-hidden=\"true\"\n                  className=\"ms-2\"\n                />\n              )}\n            </Button>\n            <Button\n              variant=\"secondary\"\n              onClick={handleClear}\n              style={{\n                borderTopLeftRadius: 0,\n                borderBottomLeftRadius: 0,\n                minHeight: '44px',\n                minWidth: '70px'\n              }}\n              disabled={searchLoading}\n            >\n              <span>Clear</span>\n            </Button>\n          </div>\n        </div>\n      </Form>\n\n      {artists.length > 0 && (\n        <div className=\"mb-5\">\n          <h3 className=\"mb-3\">Search Results for \"{searchedQuery}\"</h3>\n          <div className=\"mb-4\"\n               style={{\n                 overflowX: 'auto',\n                 WebkitOverflowScrolling: 'touch',\n                 scrollbarWidth: 'none',\n                 msOverflowStyle: 'none',\n                 paddingBottom: '10px'\n               }}>\n            <div className=\"d-flex pb-2\" style={{ minWidth: 'min-content' }}>\n              {artists.map((artist) => (\n                <div key={artist.id} className=\"me-3\" style={{ display: 'inline-block', width: '160px', flexShrink: 0 }}>\n                  <Card\n                    className=\"shadow-sm position-relative artist-hover-card\"\n                    style={{ width: '160px' }}\n                    onClick={() => handleArtistClick(artist)}\n                  >\n                    {user && (\n                      <div className=\"position-absolute top-0 end-0 m-2\">\n                        <div\n                          className=\"d-flex justify-content-center align-items-center rounded-circle bg-primary\"\n                          style={{ width: '30px', height: '30px', cursor: 'pointer' }}\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            isInFavorites(artist.id)\n                              ? handleRemoveFromFavorites(e, artist.id)\n                              : handleAddToFavorites(e, artist);\n                          }}\n                        >\n                          <i className={`bi ${isInFavorites(artist.id) ? 'bi-star-fill text-warning' : 'bi-star text-white'}`}></i>\n                        </div>\n                      </div>\n                    )}\n                    <Card.Img\n                      variant=\"top\"\n                      src={artist.image && !artist.image.includes('/assets/shared/missing_image.png')\n                        ? artist.image\n                        : '/artsy_logo.svg'}\n                      alt={artist.name}\n                      style={{\n                        height: '160px',\n                        objectFit: (artist.image && !artist.image.includes('/assets/shared/missing_image.png')) ? 'cover' : 'contain',\n                        padding: (artist.image && !artist.image.includes('/assets/shared/missing_image.png')) ? '0' : '30px',\n                        backgroundColor: (artist.image && !artist.image.includes('/assets/shared/missing_image.png')) ? 'transparent' : '#f8f9fa'\n                      }}\n                    />\n                    <Card.Body className=\"p-2 text-white text-center artist-card-body\" style={{ backgroundColor: '#205375' }}>\n                      <Card.Title\n                        className=\"mb-0\"\n                        style={{\n                          fontSize: '1rem',\n                          whiteSpace: 'normal',\n                          overflow: 'hidden',\n                          textOverflow: 'ellipsis',\n                          display: '-webkit-box',\n                          WebkitLineClamp: 2,\n                          WebkitBoxOrient: 'vertical',\n                          lineHeight: '1.2'\n                        }}\n                      >\n                        {artist.name}\n                      </Card.Title>\n                    </Card.Body>\n                  </Card>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {loading ? (\n        <div className=\"text-center py-5\">\n          <Spinner animation=\"border\" role=\"status\">\n            <span className=\"visually-hidden\">Loading...</span>\n          </Spinner>\n        </div>\n      ) : selectedArtist && (\n        <div className=\"w-100\">\n          <Tabs\n            defaultActiveKey=\"info\"\n            className=\"mb-3 w-100 custom-tabs\"\n            style={{\n              display: 'flex',\n              border: 'none',\n              outline: 'none',\n              boxShadow: 'none'\n            }}\n            fill\n          >\n            <Tab eventKey=\"info\" title={<div className=\"w-100 py-2\">Artist Info</div>}>\n              <div className=\"text-center\">\n                <div className=\"d-flex align-items-center justify-content-center mt-3\">\n                  <h2 className=\"mb-0 me-3\">{selectedArtist.name}</h2>\n                  {user && (\n                    <i\n                      className={`bi ${isInFavorites(selectedArtist.id) ? 'bi-star-fill text-warning' : 'bi-star'}`}\n                      style={{ fontSize: '1.5rem', cursor: 'pointer' }}\n                      onClick={(e) => {\n                        e.preventDefault();\n                        isInFavorites(selectedArtist.id)\n                          ? handleRemoveFromFavorites(e, selectedArtist.id)\n                          : handleAddToFavorites(e, selectedArtist);\n                      }}\n                    ></i>\n                  )}\n                </div>\n                <div\n                  className=\"text-muted mb-3\"\n                  dangerouslySetInnerHTML={{\n                    __html: `${selectedArtist.nationality || ''}, ${selectedArtist.birthday || ''} ${selectedArtist.deathday ? '– ' + selectedArtist.deathday : ''}`\n                  }}\n                />\n                <div className=\"mt-4 text-justify\">\n                  {selectedArtist.biography ?\n                    (() => {\n                      // Process the biography text\n                      const bioText = selectedArtist.biography;\n\n                      // Split by common paragraph separators and filter out empty paragraphs\n                      const paragraphs = bioText\n                        .split(/\\n\\n|\\r\\n\\r\\n|\\n\\r\\n\\r|\\r\\r/)\n                        .filter(para => para.trim() !== '');\n\n                      // If no paragraphs were found after splitting, treat the entire biography as one paragraph\n                      if (paragraphs.length === 0) {\n                        return (\n                          <div\n                            style={{ lineHeight: '1.6', marginBottom: '1rem', textAlign: 'justify' }}\n                            dangerouslySetInnerHTML={{ __html: bioText }}\n                          />\n                        );\n                      }\n\n                      // Otherwise, render each paragraph\n                      return paragraphs.map((paragraph, index) => (\n                        <div\n                          key={index}\n                          style={{ lineHeight: '1.6', marginBottom: '1rem', textAlign: 'justify' }}\n                          dangerouslySetInnerHTML={{ __html: paragraph }}\n                        />\n                      ));\n                    })()\n                    : <p style={{ lineHeight: '1.6', marginBottom: '1rem', textAlign: 'justify' }}>No biography available.</p>\n                  }\n                </div>\n\n                {/* Similar Artists Section */}\n                  <div className=\"mt-5\">\n                    <h3 className=\"text-start mb-4\">Similar Artists</h3>\n                    {loadingSimilar ? (\n                      <div className=\"text-center py-3\">\n                        <Spinner animation=\"border\" role=\"status\">\n                          <span className=\"visually-hidden\">Loading...</span>\n                        </Spinner>\n                      </div>\n                    ) : similarArtists.length > 0 ? (\n                      <div className=\"mb-4\"\n                           style={{\n                             overflowX: 'auto',\n                             WebkitOverflowScrolling: 'touch',\n                             scrollbarWidth: 'none',\n                             msOverflowStyle: 'none',\n                             paddingBottom: '10px'\n                           }}>\n                        <div className=\"d-flex pb-2\" style={{ minWidth: 'min-content' }}>\n                          {similarArtists.map((artist) => (\n                            <div key={artist.id} className=\"me-3\" style={{ display: 'inline-block', width: '160px', flexShrink: 0 }}>\n                              <Card\n                                className=\"shadow-sm position-relative artist-hover-card\"\n                                style={{ width: '160px' }}\n                                onClick={() => handleArtistClick(artist)}\n                              >\n                                {user && (\n                                  <div className=\"position-absolute top-0 end-0 m-2\">\n                                    <div\n                                      className=\"d-flex justify-content-center align-items-center rounded-circle bg-primary\"\n                                      style={{ width: '30px', height: '30px', cursor: 'pointer' }}\n                                      onClick={(e) => {\n                                        e.preventDefault();\n                                        e.stopPropagation();\n                                        isInFavorites(artist.id)\n                                          ? handleRemoveFromFavorites(e, artist.id)\n                                          : handleAddToFavorites(e, artist);\n                                      }}\n                                    >\n                                      <i className={`bi ${isInFavorites(artist.id) ? 'bi-star-fill text-warning' : 'bi-star text-white'}`}></i>\n                                    </div>\n                                  </div>\n                                )}\n                                <Card.Img\n                                  variant=\"top\"\n                                  src={artist.image && !artist.image.includes('/assets/shared/missing_image.png')\n                                    ? artist.image\n                                    : '/artsy_logo.svg'}\n                                  alt={artist.name}\n                                  style={{\n                                    height: '160px',\n                                    objectFit: (artist.image && !artist.image.includes('/assets/shared/missing_image.png')) ? 'cover' : 'contain',\n                                    padding: (artist.image && !artist.image.includes('/assets/shared/missing_image.png')) ? '0' : '30px',\n                                    backgroundColor: (artist.image && !artist.image.includes('/assets/shared/missing_image.png')) ? 'transparent' : '#f8f9fa'\n                                  }}\n                                />\n                                <Card.Body className=\"p-2 text-white text-center artist-card-body\" style={{ backgroundColor: '#205375' }}>\n                                  <Card.Title\n                                    className=\"mb-0\"\n                                    style={{\n                                      fontSize: '1rem',\n                                      whiteSpace: 'normal',\n                                      overflow: 'hidden',\n                                      textOverflow: 'ellipsis',\n                                      display: '-webkit-box',\n                                      WebkitLineClamp: 2,\n                                      WebkitBoxOrient: 'vertical',\n                                      lineHeight: '1.2'\n                                    }}\n                                  >\n                                    {artist.name}\n                                  </Card.Title>\n                                </Card.Body>\n                              </Card>\n                            </div>\n                          ))}\n                        </div>\n                      </div>\n                    ) : (\n                      <div className=\"text-center py-3\">\n                        <p>No similar artists found.</p>\n                      </div>\n                    )}\n                  </div>\n              </div>\n            </Tab>\n            <Tab eventKey=\"artworks\" title={<div className=\"w-100 py-2\">Artworks</div>}>\n              {artworks.length === 0 ? (\n                <div className=\"alert alert-danger bg-danger-subtle text-danger mt-3\">\n                  No artworks.\n                </div>\n              ) : (\n                <div className=\"row\">\n                  {artworks.map((art) => (\n                    <div key={art.id} className=\"artwork-card col-12 col-sm-6 col-md-4 col-lg-3 mb-3\">\n                      <div className=\"card h-100 shadow-sm rounded overflow-hidden border-0 d-flex flex-column\">\n                        <div className=\"artwork-image-container\" style={{ height: '300px', overflow: 'hidden' }}>\n                          <img\n                            src={art.image && !art.image.includes('/assets/shared/missing_image.png')\n                              ? art.image\n                              : '/artsy_logo.svg'}\n                            alt={art.title}\n                            className=\"w-100 h-100\"\n                            style={{\n                              objectFit: (art.image && !art.image.includes('/assets/shared/missing_image.png')) ? 'cover' : 'contain',\n                              padding: (art.image && !art.image.includes('/assets/shared/missing_image.png')) ? '0' : '30px',\n                              backgroundColor: (art.image && !art.image.includes('/assets/shared/missing_image.png')) ? 'transparent' : '#f8f9fa'\n                            }}\n                          />\n                        </div>\n                        <div className=\"d-flex flex-column\" style={{ flex: '1 0 auto' }}>\n                          <div className=\"p-3 text-center\" style={{ flex: '1 0 auto' }}>\n                            <h6 className=\"mb-0\">{art.title}{art.date ? `, ${art.date}` : ''}</h6>\n                          </div>\n                          <button\n                            className=\"btn btn-primary w-100 rounded-0 rounded-bottom\"\n                            style={{\n                              backgroundColor: '#024d93',\n                              borderColor: '#024d93',\n                              borderTopLeftRadius: '0',\n                              borderTopRightRadius: '0'\n                            }}\n                            onClick={() => openCategories(art)}\n                          >\n                            View categories\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </Tab>\n\n          </Tabs>\n        </div>\n      )}\n\n      <Modal\n        show={showModal}\n        onHide={() => setShowModal(false)}\n        size=\"lg\"\n        contentClassName=\"p-0\"\n        fullscreen=\"sm-down\"\n      >\n        <button\n          type=\"button\"\n          className=\"modal-close-btn\"\n          onClick={() => setShowModal(false)}\n          aria-label=\"Close\"\n        >\n          ×\n        </button>\n\n        <Modal.Body className=\"pt-4\">\n          {/* Artwork Info Section */}\n          {selectedArtwork && (\n            <div className=\"mb-3\">\n              <div className=\"d-flex align-items-start\">\n                <div style={{ width: '50px', marginRight: '15px', flexShrink: 0 }}>\n                  <img\n                    src={selectedArtwork.image && !selectedArtwork.image.includes('/assets/shared/missing_image.png')\n                      ? selectedArtwork.image\n                      : '/artsy_logo.svg'}\n                    alt={selectedArtwork.title}\n                    className=\"img-fluid rounded\"\n                    style={{\n                      width: '100%',\n                      height: 'auto',\n                      objectFit: (selectedArtwork.image && !selectedArtwork.image.includes('/assets/shared/missing_image.png')) ? 'cover' : 'contain',\n                      padding: (selectedArtwork.image && !selectedArtwork.image.includes('/assets/shared/missing_image.png')) ? '0' : '15px',\n                      backgroundColor: (selectedArtwork.image && !selectedArtwork.image.includes('/assets/shared/missing_image.png')) ? 'transparent' : '#f8f9fa'\n                    }}\n                  />\n                </div>\n                <div className=\"d-flex flex-column\">\n                  <h5 className=\"mb-1\">{selectedArtwork.title}</h5>\n                  <p className=\"text-muted mb-0\">{selectedArtwork.date}</p>\n                </div>\n              </div>\n            </div>\n          )}\n\n          <hr className=\"my-3\" />\n\n          {/* Categories Section */}\n          {loadingCategories ? (\n            <div className=\"text-center py-5\">\n              <Spinner animation=\"border\" role=\"status\">\n                <span className=\"visually-hidden\">Loading...</span>\n              </Spinner>\n            </div>\n          ) : categories.length === 0 ? (\n            <div className=\"alert alert-danger bg-danger-subtle text-danger\">\n              No categories.\n            </div>\n          ) : (\n            <Row>\n              {categories.map((cat, idx) => (\n                <Col key={idx} xs={12} sm={6} md={4} className=\"mb-3\">\n                  <Card className=\"h-100 shadow-sm\">\n                    <Card.Img\n                      variant=\"top\"\n                      src={cat.image}\n                      style={{ height: '180px', objectFit: 'cover' }}\n                    />\n                    <Card.Body className=\"p-2\">\n                      <Card.Text className=\"text-center mb-0\">{cat.name}</Card.Text>\n                    </Card.Body>\n                  </Card>\n                </Col>\n              ))}\n            </Row>\n          )}\n        </Modal.Body>\n      </Modal>\n    </Container>\n  );\n};\n\nexport default SearchBar;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}